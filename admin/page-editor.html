<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Static Page Editor - CVCWVUAA</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/wvu-components.min.css">
    <style>
        .editor-container { max-width: 1200px; margin: 2rem auto; padding: 2rem; }
        .editor-header { background: linear-gradient(135deg, #002855, #1e40af); color: white; padding: 2rem; border-radius: 12px; text-align: center; margin-bottom: 2rem; }
        .editor-grid { display: grid; grid-template-columns: 300px 1fr; gap: 2rem; }
        .page-list { background: white; border: 1px solid #e9ecef; border-radius: 12px; padding: 1.5rem; height: fit-content; }
        .editor-panel { background: white; border: 1px solid #e9ecef; border-radius: 12px; padding: 1.5rem; }
        .page-item { padding: 0.75rem; margin-bottom: 0.5rem; border-radius: 6px; cursor: pointer; border: 1px solid #e9ecef; }
        .page-item:hover { background: #f8f9fa; }
        .page-item.active { background: #e3f2fd; border-color: #2196f3; }
        .form-group { margin-bottom: 1rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; font-weight: 600; color: #495057; }
        .form-control { width: 100%; padding: 10px; border: 1px solid #ced4da; border-radius: 6px; font-size: 14px; }
        textarea.form-control { min-height: 200px; resize: vertical; font-family: 'Courier New', monospace; }
        .btn { display: inline-block; background: #007bff; color: white; padding: 10px 20px; text-decoration: none; border-radius: 6px; margin: 5px; font-weight: 600; border: none; cursor: pointer; }
        .btn:hover { background: #0056b3; text-decoration: none; color: white; }
        .btn-success { background: #28a745; }
        .btn-success:hover { background: #218838; }
        .btn-warning { background: #ffc107; color: #212529; }
        .btn-warning:hover { background: #e0a800; }
        .back-link { display: inline-block; margin-bottom: 2rem; color: #007bff; text-decoration: none; }
        .back-link:hover { text-decoration: underline; }
        .preview-frame { width: 100%; height: 400px; border: 1px solid #ddd; border-radius: 6px; }
        .toolbar { background: #f8f9fa; padding: 1rem; border-radius: 6px; margin-bottom: 1rem; }
        .status-indicator { display: inline-block; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: 600; }
        .status-published { background: #d4edda; color: #155724; }
        .status-draft { background: #fff3cd; color: #856404; }
    </style>
</head>
<body>
    <!-- WVU Masthead Component -->
    <div id="wvu-masthead"></div>

    <!-- WVU Primary Navigation Component -->
    <div id="wvu-navigation"></div>

    <!-- Back to Dashboard Button -->
    <div class="back-to-dashboard" style="max-width: 1200px; margin: 20px auto; padding: 0 20px;">
        <a href="/admin/dashboard.html" style="display: inline-flex; align-items: center; gap: 8px; padding: 10px 20px; background: linear-gradient(135deg, #002855, #1e40af); color: white; text-decoration: none; border-radius: 8px; font-weight: 600; transition: all 0.2s; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
            <span style="font-size: 1.2rem;">‚Üê</span>
            <span>Back to Dashboard</span>
        </a>
    </div>

    <div class="editor-container">
        <a href="index.html" class="back-link">‚Üê Back to Admin Hub</a>
        
        <div class="editor-header">
            <h1>üìÑ Static Page Editor</h1>
            <p>Edit and manage static website pages</p>
        </div>

        <div class="editor-grid">
            <!-- Page List -->
            <div class="page-list">
                <h3>üìã Website Pages</h3>
                
                <div class="page-item active" onclick="loadPage(event, 'index')">
                    <strong>üè† Home Page</strong>
                    <div class="small">index.html</div>
                    <span class="status-indicator status-published">Published</span>
                </div>
                
                <div class="page-item" onclick="loadPage(event, 'about')">
                    <strong>‚ÑπÔ∏è About Us</strong>
                    <div class="small">about.html</div>
                    <span class="status-indicator status-published">Published</span>
                </div>
                
                <div class="page-item" onclick="loadPage(event, 'membership')">
                    <strong>üë• Membership</strong>
                    <div class="small">membership.html</div>
                    <span class="status-indicator status-published">Published</span>
                </div>
                
                <div class="page-item" onclick="loadPage(event, 'events')">
                    <strong>üéâ Events</strong>
                    <div class="small">events.html</div>
                    <span class="status-indicator status-published">Published</span>
                </div>
                
                <div class="page-item" onclick="loadPage(event, 'news')">
                    <strong>üì∞ News</strong>
                    <div class="small">news.html</div>
                    <span class="status-indicator status-published">Published</span>
                </div>
                
                <div class="page-item" onclick="loadPage(event, 'contact')">
                    <strong>üìû Contact</strong>
                    <div class="small">contact.html</div>
                    <span class="status-indicator status-published">Published</span>
                </div>
                
                <div class="page-item" onclick="loadPage(event, 'board')">
                    <strong>üèõÔ∏è Board</strong>
                    <div class="small">board.html</div>
                    <span class="status-indicator status-draft">Needs Update</span>
                </div>
                
                <div class="page-item" onclick="loadPage(event, 'bylaws')">
                    <strong>üìú Bylaws</strong>
                    <div class="small">bylaws.html</div>
                    <span class="status-indicator status-published">Published</span>
                </div>
                
                <hr style="margin: 1rem 0;">
                <button class="btn btn-success" onclick="createNewPage()" style="width: 100%;">‚ûï Create New Page</button>
            </div>

            <!-- Editor Panel -->
            <div class="editor-panel">
                <div class="toolbar">
                    <button class="btn" onclick="insertHTML('heading')">üìù Heading</button>
                    <button class="btn" onclick="insertHTML('paragraph')">üìÑ Paragraph</button>
                    <button class="btn" onclick="insertHTML('link')">üîó Link</button>
                    <button class="btn" onclick="insertHTML('image')">üñºÔ∏è Image</button>
                    <button class="btn" onclick="insertHTML('list')">üìã List</button>
                    <button class="btn" onclick="insertHTML('card')">üÉè Card</button>
                </div>
                
                <form id="pageForm">
                    <div class="form-group">
                        <label for="page-title">Page Title</label>
                        <input type="text" id="page-title" class="form-control" value="Central Virginia Chapter WVU Alumni Association">
                    </div>
                    
                    <div class="form-group">
                        <label for="page-description">Meta Description</label>
                        <input type="text" id="page-description" class="form-control" placeholder="Brief description for search engines...">
                    </div>
                    
                    <div class="form-group">
                        <label for="page-content">Page Content (HTML)</label>
                        <textarea id="page-content" class="form-control" placeholder="Enter HTML content here..."></textarea>
                    </div>
                    
                    <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
                        <button type="button" class="btn btn-success" onclick="savePage()">üíæ Save Changes</button>
                        <button type="button" class="btn btn-warning" onclick="previewPage()">üëÅÔ∏è Preview</button>
                        <button type="button" class="btn" onclick="validateHTML()">‚úÖ Validate HTML</button>
                        <button type="button" class="btn" onclick="backupPage()">üíæ Backup</button>
                    </div>
                </form>
                
                <!-- Preview Area -->
                <div id="previewArea" style="display: none;">
                    <h4>üì± Live Preview</h4>
                    <iframe id="previewFrame" class="preview-frame"></iframe>
                    <button class="btn" onclick="hidePreview()">‚ùå Close Preview</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentPage = 'index';
        
        const pageData = {
            index: {
                title: 'Central Virginia Chapter WVU Alumni Association',
                description: 'Official website of the Central Virginia Chapter of the WVU Alumni Association',
                content: `<div class="hero-section">
    <h1>Welcome to Central Virginia Chapter</h1>
    <p class="lead">WVU Alumni Association</p>
</div>

<div class="card">
    <h2>About Our Chapter</h2>
    <p>The Central Virginia Chapter of the WVU Alumni Association serves Mountaineers throughout the greater Richmond area and surrounding communities.</p>
</div>

<div class="grid grid-2">
    <div class="card">
        <h3>üéâ Upcoming Events</h3>
        <p>Join fellow Mountaineers at our upcoming chapter events and activities.</p>
        <a href="events.html" class="btn">View Events</a>
    </div>
    <div class="card">
        <h3>üë• Membership</h3>
        <p>Connect with local alumni and support WVU programs in Central Virginia.</p>
        <a href="membership.html" class="btn">Join Today</a>
    </div>
</div>`
            },
            about: {
                title: 'About Us - Central Virginia Chapter',
                description: 'Learn about the Central Virginia Chapter of the WVU Alumni Association',
                content: `<h1>About Our Chapter</h1>
<p class="lead">Connecting Mountaineers in Central Virginia since [Year]</p>

<div class="card">
    <h2>Our Mission</h2>
    <p>To foster connections among WVU alumni in the Central Virginia region while supporting the university and our local community.</p>
</div>

<div class="card">
    <h2>What We Do</h2>
    <ul>
        <li>Host social events and networking opportunities</li>
        <li>Support WVU students through scholarships and mentoring</li>
        <li>Organize game watches and athletic events</li>
        <li>Community service and volunteer activities</li>
    </ul>
</div>`
            },
            membership: {
                title: 'Membership - Central Virginia Chapter',
                description: 'Join the Central Virginia Chapter and connect with local WVU alumni',
                content: `<h1>Join Our Chapter</h1>
<p class="lead">Connect with fellow Mountaineers in Central Virginia</p>

<div class="card">
    <h2>Membership Benefits</h2>
    <ul>
        <li>Access to exclusive chapter events</li>
        <li>Networking opportunities with local alumni</li>
        <li>Chapter newsletter and communications</li>
        <li>Discounts on WVU merchandise and events</li>
    </ul>
</div>

<div class="card">
    <h2>How to Join</h2>
    <p>Annual membership dues: $25</p>
    <a href="#" class="btn">Join Online</a>
    <a href="contact.html" class="btn">Contact Us</a>
</div>`
            }
        };
        
        function loadPage(eventObj, pageId) {
            currentPage = pageId;
            
            // Update active page indicator
            document.querySelectorAll('.page-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // If called from a click event, highlight the clicked item
            if (eventObj && eventObj.target) {
                eventObj.target.closest('.page-item').classList.add('active');
            } else {
                // If called programmatically, highlight by pageId
                const pageItems = document.querySelectorAll('.page-item');
                pageItems.forEach(item => {
                    if (item.getAttribute('onclick')?.includes(`'${pageId}'`)) {
                        item.classList.add('active');
                    }
                });
            }
            
            // Load page data
            const data = pageData[pageId] || {
                title: 'Page Title',
                description: 'Page description',
                content: '<h1>Page Content</h1>\n<p>Enter your content here...</p>'
            };
            
            document.getElementById('page-title').value = data.title;
            document.getElementById('page-description').value = data.description;
            document.getElementById('page-content').value = data.content;
        }
        
        function savePage() {
            const title = document.getElementById('page-title').value;
            const description = document.getElementById('page-description').value;
            const content = document.getElementById('page-content').value;
            
            if (!title || !content) {
                alert('Please fill in title and content');
                return;
            }
            
            // Store in pageData (in a real implementation, this would save to server)
            pageData[currentPage] = {
                title: title,
                description: description,
                content: content
            };
            
            alert('Page saved successfully!');
        }
        
        function previewPage() {
            const title = document.getElementById('page-title').value;
            const content = document.getElementById('page-content').value;
            
            const previewHTML = `
<!DOCTYPE html>
<html>
<head>
    <title>${title}</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/wvu-components.min.css">
    <style>
        body { padding: 2rem; }
    </style>
</head>
<body>
    <!-- WVU Masthead Component -->
    <div id="wvu-masthead"></div>

    <!-- WVU Primary Navigation Component -->
    <div id="wvu-navigation"></div>

    <!-- Back to Dashboard Button -->
    <div class="back-to-dashboard" style="max-width: 1200px; margin: 20px auto; padding: 0 20px;">
        <a href="/admin/dashboard.html" style="display: inline-flex; align-items: center; gap: 8px; padding: 10px 20px; background: linear-gradient(135deg, #002855, #1e40af); color: white; text-decoration: none; border-radius: 8px; font-weight: 600; transition: all 0.2s; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
            <span style="font-size: 1.2rem;">‚Üê</span>
            <span>Back to Dashboard</span>
        </a>
    </div>

    ${content}
    <!-- WVU Footer Component -->
    <div id="wvu-footer"></div>

    <!-- Load WVU Components -->
    <script src="/includes/component-loader.min.js"><\/script>
</body>
</html>`;
            
            const iframe = document.getElementById('previewFrame');
            iframe.srcdoc = previewHTML;
            
            document.getElementById('previewArea').style.display = 'block';
        }
        
        function hidePreview() {
            document.getElementById('previewArea').style.display = 'none';
        }
        
        function insertHTML(type) {
            const textarea = document.getElementById('page-content');
            let insertText = '';
            
            switch(type) {
                case 'heading':
                    insertText = '<h2>Heading Text</h2>\n';
                    break;
                case 'paragraph':
                    insertText = '<p>Paragraph text goes here.</p>\n';
                    break;
                case 'link':
                    insertText = '<a href="#" class="btn">Link Text</a>\n';
                    break;
                case 'image':
                    insertText = '<img src="/assets/image.jpg" alt="Description" style="max-width: 100%;">\n';
                    break;
                case 'list':
                    insertText = '<ul>\n    <li>List item 1</li>\n    <li>List item 2</li>\n    <li>List item 3</li>\n</ul>\n';
                    break;
                case 'card':
                    insertText = '<div class="card">\n    <h3>Card Title</h3>\n    <p>Card content goes here.</p>\n</div>\n';
                    break;
            }
            
            const cursorPos = textarea.selectionStart;
            const textBefore = textarea.value.substring(0, cursorPos);
            const textAfter = textarea.value.substring(cursorPos);
            
            textarea.value = textBefore + insertText + textAfter;
            textarea.focus();
            textarea.setSelectionRange(cursorPos + insertText.length, cursorPos + insertText.length);
        }
        
        function validateHTML() {
            const content = document.getElementById('page-content').value;
            
            // Simple HTML validation
            const tempDiv = document.createElement('div');
            try {
                tempDiv.innerHTML = content;
                alert('‚úÖ HTML appears to be valid!');
            } catch (error) {
                alert('‚ùå HTML validation error: ' + error.message);
            }
        }
        
        function backupPage() {
            const title = document.getElementById('page-title').value;
            const content = document.getElementById('page-content').value;
            
            const backup = {
                page: currentPage,
                title: title,
                content: content,
                timestamp: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(backup, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `${currentPage}_backup_${new Date().getTime()}.json`;
            link.click();
        }
        
        function createNewPage() {
            const pageName = prompt('Enter new page name (e.g., "programs"):');
            if (pageName) {
                const pageId = pageName.toLowerCase().replace(/[^a-z0-9]/g, '-');
                pageData[pageId] = {
                    title: `${pageName} - Central Virginia Chapter`,
                    description: `${pageName} page description`,
                    content: `<h1>${pageName}</h1>\n<p>Content for ${pageName} page.</p>`
                };
                
                // In a real implementation, you would add the new page to the navigation
                alert(`New page "${pageName}" created! You can now select it from the page list.`);
            }
        }
        
        // Load initial page
        loadPage(null, 'index');
    </script>
    <!-- WVU Footer Component -->
    <div id="wvu-footer"></div>

    <!-- Load WVU Components -->
    <script src="/includes/component-loader.min.js"></script>
</body>
</html>